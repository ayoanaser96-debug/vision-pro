@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Modern Landscape UI - Light Theme */
    --background: 220 14% 96%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 217 91% 60%;
    --radius: 0.75rem;
  }
  
  /* Light theme root variables - applied when not dark */
  html:not(.dark),
  html[data-theme="light"] {
    /* Modern Landscape Light Theme */
    --background: 220 14% 96%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 217 91% 60%;
  }

  /* Patient Portal Theme - Using modern palette */
  .patient-portal,
  [data-portal="patient"],
  body.patient-portal {
    --background: 220 14% 96%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 217 91% 60%;
  }

  .dark,
  [data-theme="dark"] {
    /* Modern Landscape UI - Dark Theme */
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;
    --card: 224 71% 4%;
    --card-foreground: 210 40% 98%;
    --popover: 224 71% 4%;
    --popover-foreground: 210 40% 98%;
    --primary: 217 91% 60%;
    --primary-foreground: 222 47% 11%;
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 217 91% 60%;
    --accent-foreground: 222 47% 11%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 217 91% 60%;
  }
  
  /* Light theme for auto mode */
  [data-theme="light"]:not(.dark) {
    /* Modern Landscape Light Theme */
    --background: 220 14% 96%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 217 91% 60%;
  }
  
  /* Borders and lines */
  hr, [class*="border"], .border {
    border-color: hsl(var(--border));
  }
  
  /* Enhanced Typography - Bold and Readable */
  body {
    font-weight: 500;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: hsl(var(--foreground));
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-weight: 700 !important;
    color: hsl(var(--foreground)) !important;
    line-height: 1.2;
  }
  
  p, a, label {
    font-weight: 500;
    color: hsl(var(--foreground));
    line-height: 1.6;
  }
  
  /* Strong emphasis */
  strong, b {
    font-weight: 700 !important;
    color: hsl(var(--foreground)) !important;
  }
  
  /* Ensure all card titles are bold and visible */
  .card-title, [class*="card-title"], [class*="CardTitle"] {
    font-weight: 600 !important;
    color: hsl(var(--foreground)) !important;
  }
  
  /* Ensure all descriptions are readable */
  .card-description, [class*="card-description"], [class*="CardDescription"] {
    font-weight: 500 !important;
    color: hsl(var(--muted-foreground)) !important;
  }
  
  /* Buttons - Enhanced animations (fallback if component styles don't apply) */
  button:not([disabled]) {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, box-shadow;
  }
  
  button:not([disabled]):hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 8px 20px hsl(var(--primary) / 0.3);
  }
  
  button:not([disabled]):active {
    transform: translateY(0) scale(0.98);
    box-shadow: 0 2px 8px hsl(var(--primary) / 0.2);
  }
  
  /* Interactive chart styles */
  .recharts-wrapper {
    filter: drop-shadow(0 4px 6px hsl(var(--primary) / 0.2));
  }
  
  .recharts-cartesian-grid line {
    stroke: hsl(var(--foreground) / 0.2);
  }
  
  .recharts-text {
    fill: hsl(var(--foreground));
    font-weight: 500;
  }
  
  .recharts-tooltip-wrapper {
    background-color: hsl(var(--card));
    border-color: hsl(var(--border));
    color: hsl(var(--foreground));
    border-radius: 8px;
    padding: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .recharts-active-dot {
    r: 6;
    fill: hsl(var(--primary));
    stroke: hsl(var(--primary));
    stroke-width: 2;
    filter: drop-shadow(0 2px 4px hsl(var(--primary) / 0.5));
  }
  
  .recharts-bar {
    transition: opacity 0.3s ease;
    cursor: pointer;
  }
  
  .recharts-bar:hover {
    opacity: 0.8;
  }
  
  .recharts-line {
    stroke-width: 3;
    animation: drawLine 1s ease-in-out;
  }
  
  @keyframes drawLine {
    from {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
    }
    to {
      stroke-dashoffset: 0;
    }
  }
  
  .recharts-sector {
    transition: all 0.3s ease;
    cursor: pointer;
  }
  
  .recharts-sector:hover {
    opacity: 0.9;
    transform-origin: center;
  }
  
  /* Enhanced button interactivity with animations */
  button {
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, box-shadow;
  }
  
  button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: hsl(var(--primary) / 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1), height 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
    z-index: 0;
  }
  
  button:hover::before {
    width: 300px;
    height: 300px;
  }
  
  button:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 8px 20px hsl(var(--primary) / 0.3);
  }
  
  button:active {
    transform: translateY(0) scale(0.98);
    box-shadow: 0 2px 8px hsl(var(--primary) / 0.2);
  }
  
  button > * {
    position: relative;
    z-index: 1;
  }
  
  /* Card hover effects with animations */
  .card,
  [class*="Card"] {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, box-shadow;
    animation: fadeInUp 0.5s ease-out;
  }
  
  .card:hover,
  [class*="Card"]:hover {
    transform: translateY(-6px) scale(1.01);
    box-shadow: 0 12px 32px hsl(var(--primary) / 0.15);
  }
  
  /* Card click animation */
  .card:active,
  [class*="Card"]:active {
    transform: translateY(-2px) scale(0.99);
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }
  
  /* Animated cards on load */
  .card,
  [class*="Card"] {
    animation: fadeInUp 0.5s ease-out;
  }
  
  /* Stagger animation for multiple cards */
  .card:nth-child(1),
  [class*="Card"]:nth-child(1) {
    animation-delay: 0.1s;
  }
  
  .card:nth-child(2),
  [class*="Card"]:nth-child(2) {
    animation-delay: 0.2s;
  }
  
  .card:nth-child(3),
  [class*="Card"]:nth-child(3) {
    animation-delay: 0.3s;
  }
  
  .card:nth-child(4),
  [class*="Card"]:nth-child(4) {
    animation-delay: 0.4s;
  }
  
  /* Interactive hover glow for cards */
  .card:hover,
  [class*="Card"]:hover {
    position: relative;
  }
  
  .card:hover::before,
  [class*="Card"]:hover::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: inherit;
    background: linear-gradient(45deg, hsl(var(--primary) / 0.1), hsl(var(--accent) / 0.1));
    z-index: -1;
    opacity: 0;
    animation: pulseGlow 2s ease-in-out infinite;
  }
  
  @keyframes pulseGlow {
    0%, 100% {
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
  }
  
  /* Input focus effects */
  input:focus,
  select:focus,
  textarea:focus {
    outline: none;
    ring: 2px;
    ring-color: hsl(var(--primary) / 0.5);
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.2);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
  
  /* Smart-Tech Theme Icon Colors - Icons: Blue (default) */
  svg[class*="lucide"],
  svg[class*="icon"] {
    color: hsl(var(--primary));
  }
  
  /* Ensure icons use modern primary color */
  :root svg[class*="lucide"],
  :root svg[class*="icon"] {
    color: hsl(var(--primary));
  }
  
  /* Patient Portal Icons: Modern primary color */
  .patient-portal svg[class*="lucide"],
  .patient-portal svg[class*="icon"],
  [data-portal="patient"] svg[class*="lucide"],
  [data-portal="patient"] svg[class*="icon"],
  body.patient-portal svg[class*="lucide"],
  body.patient-portal svg[class*="icon"] {
    color: hsl(var(--primary));
  }
  
  /* Accent: Purple - Use for special highlights */
  .accent-purple,
  [data-accent="purple"],
  .text-accent {
    color: hsl(var(--accent));
  }
  
  .bg-accent-purple,
  .bg-accent {
    background-color: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
  }
  
  .border-accent {
    border-color: hsl(var(--accent));
  }
  
  /* Cards: White background with subtle shadow */
  .card,
  [class*="card"] {
    background-color: hsl(var(--card));
  }
  
  /* Ensure all text adapts to dark mode */
  h1, h2, h3, h4, h5, h6 {
    @apply text-foreground;
  }
  
  p, span, div, label {
    @apply text-foreground;
  }
  
  /* Override hardcoded text colors */
  .dark .text-gray-900,
  .dark .text-gray-800,
  .dark .text-gray-700,
  .dark .text-gray-600 {
    @apply text-foreground;
  }
  
  .dark .text-black {
    @apply text-foreground;
  }
  
  /* Override hardcoded background colors */
  .dark .bg-white,
  .dark .bg-gray-50,
  .dark .bg-gray-100 {
    @apply bg-card;
  }
  
  .dark .bg-gray-200 {
    @apply bg-muted;
  }
  
  /* Semantic badge colors for dark mode */
  .dark .bg-green-100 {
    @apply bg-green-900/30;
  }
  .dark .text-green-800 {
    @apply text-green-400;
  }
  
  .dark .bg-red-100 {
    @apply bg-red-900/30;
  }
  .dark .text-red-800 {
    @apply text-red-400;
  }
  
  .dark .bg-yellow-100 {
    @apply bg-yellow-900/30;
  }
  .dark .text-yellow-800 {
    @apply text-yellow-400;
  }
  
  .dark .bg-blue-100 {
    @apply bg-blue-900/30;
  }
  .dark .text-blue-800 {
    @apply text-blue-400;
  }
  
  .dark .bg-purple-100 {
    @apply bg-purple-900/30;
  }
  .dark .text-purple-800 {
    @apply text-purple-400;
  }
  
  /* Fix hover states in dark mode */
  .dark .hover\:bg-gray-50:hover {
    @apply bg-muted;
  }
  
  /* Fix text colors in dark mode */
  .dark .text-red-600 {
    @apply text-red-400;
  }
  
  /* Ensure input and select elements adapt */
  .dark input,
  .dark select,
  .dark textarea {
    @apply bg-card text-foreground border-border;
  }
  
  /* Ensure tables adapt */
  .dark table {
    @apply text-foreground;
  }
  
  .dark td,
  .dark th {
    @apply border-border;
  }
}

/* RTL Support */
[dir="rtl"] {
  direction: rtl;
}

[dir="ltr"] {
  direction: ltr;
}

/* RTL adjustments */
.rtl [class*="mr-"] {
  margin-right: 0 !important;
  margin-left: inherit !important;
}

.rtl [class*="ml-"] {
  margin-left: 0 !important;
  margin-right: inherit !important;
}

.rtl [class*="pr-"] {
  padding-right: 0 !important;
  padding-left: inherit !important;
}

.rtl [class*="pl-"] {
  padding-left: 0 !important;
  padding-right: inherit !important;
}

.rtl [class*="text-right"] {
  text-align: left !important;
}

.rtl [class*="text-left"] {
  text-align: right !important;
}

/* Modern Landscape UI Enhancements */
@layer utilities {
  /* Glassmorphism effect */
  .glass {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }
  
  .dark .glass {
    background: rgba(30, 30, 40, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  /* Glass card with shadow */
  .glass-card {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
  }
  
  .dark .glass-card {
    background: rgba(30, 30, 40, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
  }
  
  /* Modern gradient backgrounds */
  .gradient-bg {
    background: linear-gradient(135deg, hsl(var(--primary) / 0.1) 0%, hsl(var(--accent) / 0.05) 100%);
  }
  
  .gradient-border {
    border: 2px solid transparent;
    background: linear-gradient(white, white) padding-box,
                linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent))) border-box;
  }
  
  .dark .gradient-border {
    background: linear-gradient(hsl(var(--background)), hsl(var(--background))) padding-box,
                linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent))) border-box;
  }
  
  /* Smooth animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }
  
  .animate-shimmer {
    background: linear-gradient(to right, 
      transparent 0%, 
      rgba(255, 255, 255, 0.4) 50%, 
      transparent 100%);
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
  }
  
  /* Glow effects */
  .glow-primary {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
  }
  
  .glow-accent {
    box-shadow: 0 0 20px hsl(var(--accent) / 0.3);
  }
  
  /* Modern button styles */
  .btn-modern {
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .btn-modern::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }
  
  .btn-modern:hover::before {
    width: 300px;
    height: 300px;
  }
  
  /* Card hover effects */
  .card-modern {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Enhanced Text Styles for Better Readability */
  .text-enhanced {
    font-weight: 500 !important;
    color: hsl(var(--foreground)) !important;
  }
  
  .text-enhanced-bold {
    font-weight: 700 !important;
    color: hsl(var(--foreground)) !important;
  }
  
  .text-enhanced-semibold {
    font-weight: 600 !important;
    color: hsl(var(--foreground)) !important;
  }
  
  /* Ensure stats and numbers are bold and visible */
  [class*="text-3xl"], [class*="text-4xl"], [class*="text-5xl"] {
    font-weight: 700 !important;
  }
  
  /* Ensure badges and labels are readable */
  [class*="badge"] {
    font-weight: 600 !important;
  }
  
  /* Ensure tabs are readable */
  [class*="tabs-trigger"] {
    font-weight: 600 !important;
  }
  
  .card-modern:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }
  
  .dark .card-modern:hover {
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
  }
  
  /* Modern sidebar */
  .sidebar-modern {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-right: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .dark .sidebar-modern {
    background: rgba(30, 30, 40, 0.95);
    border-right: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  /* Fade in animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in-up {
    animation: fadeInUp 0.5s ease-out;
  }
  
  /* Pulse animation */
  @keyframes pulse-modern {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }
  
  .animate-pulse-modern {
    animation: pulse-modern 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}


